[
  {
    "question": "ETF의 보유종목 상위 N개를 비중순으로 조회",
    "cypher": "MATCH (e:ETF {code: '069500'})-[h:HOLDS]->(s:Stock)\nWITH s, h ORDER BY h.date DESC\nWITH s, head(collect(h)) as latest\nRETURN {stock_code: s.code, stock_name: s.name, weight: latest.weight}\nORDER BY latest.weight DESC\nLIMIT 10",
    "description": "ETF의 최신 보유종목 상위 N개를 비중 내림차순으로 조회"
  },
  {
    "question": "ETF의 전체 보유종목 목록을 비중순으로 조회",
    "cypher": "MATCH (e:ETF {code: '091160'})-[h:HOLDS]->(s:Stock)\nWITH s, h ORDER BY h.date DESC\nWITH s, head(collect(h)) as latest\nRETURN {stock_code: s.code, stock_name: s.name, weight: latest.weight}\nORDER BY latest.weight DESC",
    "description": "ETF의 전체 보유종목을 비중 내림차순으로 조회"
  },
  {
    "question": "ETF에서 특정 종목의 보유 비중 조회",
    "cypher": "MATCH (e:ETF {code: '069500'})-[h:HOLDS]->(s:Stock {code: '005930'})\nWITH s, h ORDER BY h.date DESC\nWITH s, head(collect(h)) as latest\nRETURN {stock_name: s.name, weight: latest.weight}",
    "description": "ETF에서 특정 종목의 최신 보유 비중 조회"
  },
  {
    "question": "보유종목 수가 가장 많은 ETF 순위 조회",
    "cypher": "MATCH (e:ETF)-[h:HOLDS]->(s:Stock)\nWITH e, h, s ORDER BY h.date DESC\nWITH e, s, head(collect(h)) as latest\nWITH e, count(s) as holding_count\nRETURN {etf_code: e.code, etf_name: e.name, holding_count: holding_count}\nORDER BY holding_count DESC\nLIMIT 5",
    "description": "보유종목 수 기준 상위 ETF 조회"
  },
  {
    "question": "일정 비중 이상인 종목을 보유한 ETF 조회",
    "cypher": "MATCH (e:ETF)-[h:HOLDS]->(s:Stock)\nWITH e, s, h ORDER BY h.date DESC\nWITH e, s, head(collect(h)) as latest\nWHERE latest.weight >= 10.0\nRETURN {etf_code: e.code, etf_name: e.name, stock_name: s.name, weight: latest.weight}\nORDER BY latest.weight DESC",
    "description": "보유 비중이 N% 이상인 종목과 해당 ETF 조회"
  },
  {
    "question": "ETF의 보유종목 비중 합계 조회",
    "cypher": "MATCH (e:ETF {code: '161510'})-[h:HOLDS]->(s:Stock)\nWITH s, h ORDER BY h.date DESC\nWITH s, head(collect(h)) as latest\nWITH sum(latest.weight) as total_weight\nRETURN {total_weight: total_weight}",
    "description": "ETF 전체 보유종목의 비중 합계 조회"
  },
  {
    "question": "ETF에서 비중이 가장 낮은 보유종목 조회",
    "cypher": "MATCH (e:ETF {code: '102110'})-[h:HOLDS]->(s:Stock)\nWITH s, h ORDER BY h.date DESC\nWITH s, head(collect(h)) as latest\nRETURN {stock_code: s.code, stock_name: s.name, weight: latest.weight}\nORDER BY latest.weight ASC\nLIMIT 1",
    "description": "ETF에서 비중이 가장 낮은 보유종목 조회"
  },
  {
    "question": "ETF의 보유종목 수 조회",
    "cypher": "MATCH (e:ETF {code: '091170'})-[h:HOLDS]->(s:Stock)\nWITH s, h ORDER BY h.date DESC\nWITH s, head(collect(h)) as latest\nWITH count(s) as total\nRETURN {holding_count: total}",
    "description": "ETF가 보유한 종목의 총 수 조회"
  },
  {
    "question": "모든 보유종목의 최소 비중이 일정값 이상인 ETF 조회",
    "cypher": "MATCH (e:ETF)-[h:HOLDS]->(s:Stock)\nWITH e, s, h ORDER BY h.date DESC\nWITH e, s, head(collect(h)) as latest\nWITH e, min(latest.weight) as min_weight\nWHERE min_weight >= 5.0\nRETURN {etf_code: e.code, etf_name: e.name, min_weight: min_weight}\nORDER BY min_weight DESC",
    "description": "모든 보유종목의 최소 비중이 N% 이상인 ETF 조회"
  },
  {
    "question": "특정 종목을 보유한 ETF 전체 목록 조회",
    "cypher": "MATCH (e:ETF)-[h:HOLDS]->(s:Stock {code: '005930'})\nWITH e, h ORDER BY h.date DESC\nWITH e, head(collect(h)) as latest\nRETURN {etf_code: e.code, etf_name: e.name, weight: latest.weight}\nORDER BY latest.weight DESC",
    "description": "특정 종목을 보유한 모든 ETF와 비중 조회"
  },
  {
    "question": "특정 종목을 가장 높은 비중으로 보유한 ETF 조회",
    "cypher": "MATCH (e:ETF)-[h:HOLDS]->(s:Stock {code: '000660'})\nWITH e, h ORDER BY h.date DESC\nWITH e, head(collect(h)) as latest\nRETURN {etf_code: e.code, etf_name: e.name, weight: latest.weight}\nORDER BY latest.weight DESC\nLIMIT 1",
    "description": "특정 종목을 비중 기준 가장 많이 보유한 ETF 조회"
  },
  {
    "question": "특정 종목을 보유한 ETF 수 조회",
    "cypher": "MATCH (e:ETF)-[h:HOLDS]->(s:Stock {code: '005930'})\nWITH e, h ORDER BY h.date DESC\nWITH e, head(collect(h)) as latest\nWITH count(e) as etf_count\nRETURN {etf_count: etf_count}",
    "description": "특정 종목을 보유한 ETF의 총 수 조회"
  },
  {
    "question": "특정 종목을 일정 비중 이상 보유한 ETF 필터 조회",
    "cypher": "MATCH (e:ETF)-[h:HOLDS]->(s:Stock {code: '035420'})\nWITH e, h ORDER BY h.date DESC\nWITH e, head(collect(h)) as latest\nWHERE latest.weight >= 5.0\nRETURN {etf_code: e.code, etf_name: e.name, weight: latest.weight}\nORDER BY latest.weight DESC",
    "description": "특정 종목을 N% 이상 보유한 ETF 조회"
  },
  {
    "question": "특정 종목 보유 상위 N개 ETF 조회",
    "cypher": "MATCH (e:ETF)-[h:HOLDS]->(s:Stock {code: '006400'})\nWITH e, h ORDER BY h.date DESC\nWITH e, head(collect(h)) as latest\nRETURN {etf_code: e.code, etf_name: e.name, weight: latest.weight}\nORDER BY latest.weight DESC\nLIMIT 3",
    "description": "특정 종목을 비중 기준 상위 N개 보유한 ETF 조회"
  },
  {
    "question": "특정 종목을 보유한 ETF와 보수율 함께 조회",
    "cypher": "MATCH (e:ETF)-[h:HOLDS]->(s:Stock {code: '005930'})\nWITH e, h ORDER BY h.date DESC\nWITH e, head(collect(h)) as latest\nRETURN {etf_code: e.code, etf_name: e.name, weight: latest.weight, expense_ratio: e.expense_ratio}\nORDER BY latest.weight DESC",
    "description": "특정 종목 보유 ETF의 비중과 보수율 조회"
  },
  {
    "question": "특정 종목을 보유한 ETF의 순자산과 보수율 함께 조회",
    "cypher": "MATCH (e:ETF)-[h:HOLDS]->(s:Stock {code: '005380'})\nWITH e, h ORDER BY h.date DESC\nWITH e, head(collect(h)) as latest\nRETURN {etf_code: e.code, etf_name: e.name, weight: latest.weight, expense_ratio: e.expense_ratio, net_assets: e.net_assets}\nORDER BY latest.weight DESC",
    "description": "특정 종목 보유 ETF의 비중, 보수율, 순자산 조회"
  },
  {
    "question": "두 종목을 동시에 보유한 ETF 목록 조회",
    "cypher": "MATCH (e:ETF)-[h1:HOLDS]->(s1:Stock {code: '005930'}), (e)-[h2:HOLDS]->(s2:Stock {code: '000660'})\nWITH e, h1, h2 ORDER BY h1.date DESC, h2.date DESC\nWITH e, head(collect(DISTINCT h1)) as lh1, head(collect(DISTINCT h2)) as lh2\nRETURN {etf_code: e.code, etf_name: e.name, weight1: lh1.weight, weight2: lh2.weight}\nORDER BY lh1.weight + lh2.weight DESC",
    "description": "두 종목을 동시에 보유한 ETF와 각 비중 조회"
  },
  {
    "question": "복수 종목의 합산 비중이 높은 ETF 순위 조회",
    "cypher": "MATCH (e:ETF)-[h1:HOLDS]->(s1:Stock {code: '005930'}), (e)-[h2:HOLDS]->(s2:Stock {code: '000660'})\nWITH e, h1, h2 ORDER BY h1.date DESC, h2.date DESC\nWITH e, head(collect(DISTINCT h1)) as lh1, head(collect(DISTINCT h2)) as lh2\nWITH e, lh1, lh2, lh1.weight + lh2.weight as combined_weight\nRETURN {etf_code: e.code, etf_name: e.name, weight1: lh1.weight, weight2: lh2.weight, combined_weight: combined_weight}\nORDER BY combined_weight DESC\nLIMIT 10",
    "description": "두 종목의 합산 비중이 높은 ETF 상위 N개 조회"
  },
  {
    "question": "복수 종목을 동시에 보유한 ETF와 수수료 조회",
    "cypher": "MATCH (e:ETF)-[h1:HOLDS]->(s1:Stock {code: '005930'}), (e)-[h2:HOLDS]->(s2:Stock {code: '000660'})\nWITH e, h1, h2 ORDER BY h1.date DESC, h2.date DESC\nWITH e, head(collect(DISTINCT h1)) as lh1, head(collect(DISTINCT h2)) as lh2\nRETURN {etf_code: e.code, etf_name: e.name, weight1: lh1.weight, weight2: lh2.weight, expense_ratio: e.expense_ratio}\nORDER BY lh1.weight + lh2.weight DESC",
    "description": "복수 종목을 동시에 보유한 ETF의 비중과 보수율 조회"
  },
  {
    "question": "두 종목을 동시에 보유한 ETF 수 조회",
    "cypher": "MATCH (e:ETF)-[h1:HOLDS]->(s1:Stock {code: '005930'}), (e)-[h2:HOLDS]->(s2:Stock {code: '000660'})\nWITH e, h1, h2 ORDER BY h1.date DESC, h2.date DESC\nWITH e, head(collect(DISTINCT h1)) as lh1, head(collect(DISTINCT h2)) as lh2\nWITH count(e) as etf_count\nRETURN {etf_count: etf_count}",
    "description": "두 종목을 동시에 보유한 ETF 수 조회"
  },
  {
    "question": "세 종목을 모두 보유한 ETF 조회",
    "cypher": "MATCH (e:ETF)-[h1:HOLDS]->(s1:Stock {code: '005930'}), (e)-[h2:HOLDS]->(s2:Stock {code: '000660'}), (e)-[h3:HOLDS]->(s3:Stock {code: '035420'})\nWITH e, h1, h2, h3 ORDER BY h1.date DESC, h2.date DESC, h3.date DESC\nWITH e, head(collect(DISTINCT h1)) as lh1, head(collect(DISTINCT h2)) as lh2, head(collect(DISTINCT h3)) as lh3\nRETURN {etf_code: e.code, etf_name: e.name, weight1: lh1.weight, weight2: lh2.weight, weight3: lh3.weight}\nORDER BY lh1.weight + lh2.weight + lh3.weight DESC",
    "description": "세 종목을 모두 보유한 ETF와 각 비중 조회"
  },
  {
    "question": "복수 종목 보유 ETF를 비중 합산과 보수율, 순자산으로 조회",
    "cypher": "MATCH (e:ETF)-[h1:HOLDS]->(s1:Stock {code: '005930'}), (e)-[h2:HOLDS]->(s2:Stock {code: '000660'})\nWITH e, h1, h2 ORDER BY h1.date DESC, h2.date DESC\nWITH e, head(collect(DISTINCT h1)) as lh1, head(collect(DISTINCT h2)) as lh2\nRETURN {etf_code: e.code, etf_name: e.name, weight1: lh1.weight, weight2: lh2.weight, expense_ratio: e.expense_ratio, net_assets: e.net_assets}\nORDER BY lh1.weight + lh2.weight DESC\nLIMIT 10",
    "description": "복수 종목 보유 ETF의 비중, 보수율, 순자산 종합 조회"
  },
  {
    "question": "특정 ETF와 보유종목이 유사한 ETF 조회",
    "cypher": "MATCH (e1:ETF {code: '069500'})-[h1:HOLDS]->(s:Stock)<-[h2:HOLDS]-(e2:ETF)\nWHERE e1 <> e2\nWITH e2, count(DISTINCT s) as overlap\nRETURN {etf_code: e2.code, etf_name: e2.name, common_stock_count: overlap}\nORDER BY overlap DESC\nLIMIT 10",
    "description": "특정 ETF와 공통 보유종목이 가장 많은 ETF 상위 N개 조회"
  },
  {
    "question": "두 ETF의 공통 보유종목과 각 비중 비교",
    "cypher": "MATCH (e1:ETF {code: '069500'})-[h1:HOLDS]->(s:Stock)<-[h2:HOLDS]-(e2:ETF {code: '102110'})\nWITH s, h1, h2 ORDER BY h1.date DESC, h2.date DESC\nWITH s, head(collect(DISTINCT h1)) as lh1, head(collect(DISTINCT h2)) as lh2\nRETURN {stock_code: s.code, stock_name: s.name, weight_etf1: lh1.weight, weight_etf2: lh2.weight}",
    "description": "두 ETF의 공통 보유종목과 각 ETF에서의 비중 비교"
  },
  {
    "question": "두 ETF의 공통 보유종목 수 조회",
    "cypher": "MATCH (e1:ETF {code: '069500'})-[:HOLDS]->(s:Stock)<-[:HOLDS]-(e2:ETF {code: '148020'})\nWITH count(DISTINCT s) as common_count\nRETURN {common_stock_count: common_count}",
    "description": "두 ETF가 공통으로 보유한 종목 수 조회"
  },
  {
    "question": "특정 ETF와 보유종목 겹침이 많은 ETF 상위 N개 조회",
    "cypher": "MATCH (e1:ETF {code: '091160'})-[h1:HOLDS]->(s:Stock)<-[h2:HOLDS]-(e2:ETF)\nWHERE e1 <> e2\nWITH e2, count(DISTINCT s) as overlap\nRETURN {etf_code: e2.code, etf_name: e2.name, common_stock_count: overlap}\nORDER BY overlap DESC\nLIMIT 5",
    "description": "특정 ETF와 겹치는 종목 수 기준 유사 ETF 상위 N개 조회"
  },
  {
    "question": "두 ETF의 보유종목 비중 차이 비교",
    "cypher": "MATCH (e1:ETF {code: '091170'})-[h1:HOLDS]->(s:Stock)<-[h2:HOLDS]-(e2:ETF {code: '091160'})\nWITH s, h1, h2 ORDER BY h1.date DESC, h2.date DESC\nWITH s, head(collect(DISTINCT h1)) as lh1, head(collect(DISTINCT h2)) as lh2\nRETURN {stock_code: s.code, stock_name: s.name, weight_etf1: lh1.weight, weight_etf2: lh2.weight}\nORDER BY lh1.weight DESC",
    "description": "두 ETF의 공통 보유종목에서 각 비중 차이 비교"
  },
  {
    "question": "특정 태그의 ETF 목록 조회",
    "cypher": "MATCH (e:ETF)-[:TAGGED]->(t:Tag {name: '반도체'})\nRETURN {etf_code: e.code, etf_name: e.name, expense_ratio: e.expense_ratio}",
    "description": "특정 태그가 붙은 모든 ETF 조회"
  },
  {
    "question": "특정 태그 ETF를 보수율 오름차순으로 정렬 조회",
    "cypher": "MATCH (e:ETF)-[:TAGGED]->(t:Tag {name: 'AI'})\nRETURN {etf_code: e.code, etf_name: e.name, expense_ratio: e.expense_ratio}\nORDER BY e.expense_ratio ASC",
    "description": "특정 태그 ETF를 보수율 낮은 순으로 조회"
  },
  {
    "question": "특정 태그 ETF 중 순자산이 가장 큰 ETF 조회",
    "cypher": "MATCH (e:ETF)-[:TAGGED]->(t:Tag {name: '2차전지'})\nRETURN {etf_code: e.code, etf_name: e.name, net_assets: e.net_assets}\nORDER BY e.net_assets DESC\nLIMIT 1",
    "description": "특정 태그 ETF 중 순자산 최대 ETF 조회"
  },
  {
    "question": "전체 태그별 ETF 수 집계 조회",
    "cypher": "MATCH (e:ETF)-[:TAGGED]->(t:Tag)\nWITH t.name as tag_name, count(e) as etf_count\nRETURN {tag_name: tag_name, etf_count: etf_count}\nORDER BY etf_count DESC",
    "description": "각 태그별 ETF 수를 내림차순으로 집계"
  },
  {
    "question": "특정 태그 ETF 중 보수율 조건 필터 조회",
    "cypher": "MATCH (e:ETF)-[:TAGGED]->(t:Tag {name: '바이오'})\nWHERE e.expense_ratio <= 0.5\nRETURN {etf_code: e.code, etf_name: e.name, expense_ratio: e.expense_ratio}\nORDER BY e.expense_ratio ASC",
    "description": "특정 태그 ETF 중 보수율 N% 이하인 ETF 조회"
  },
  {
    "question": "특정 태그 ETF의 수익률 순위 조회",
    "cypher": "MATCH (e:ETF)-[:TAGGED]->(t:Tag {name: '헬스케어'})\nRETURN {etf_code: e.code, etf_name: e.name, return_1m: e.return_1m}\nORDER BY e.return_1m DESC",
    "description": "특정 태그 ETF를 1개월 수익률 내림차순으로 조회"
  },
  {
    "question": "특정 태그 ETF 수 조회",
    "cypher": "MATCH (e:ETF)-[:TAGGED]->(t:Tag {name: '방산'})\nWITH count(e) as etf_count\nRETURN {etf_count: etf_count}",
    "description": "특정 태그가 붙은 ETF 수 조회"
  },
  {
    "question": "특정 태그 ETF 중 순자산 상위 N개 조회",
    "cypher": "MATCH (e:ETF)-[:TAGGED]->(t:Tag {name: '코스피200'})\nRETURN {etf_code: e.code, etf_name: e.name, net_assets: e.net_assets}\nORDER BY e.net_assets DESC\nLIMIT 5",
    "description": "특정 태그 ETF를 순자산 기준 상위 N개 조회"
  },
  {
    "question": "특정 태그 ETF 중 수익률이 양수인 것만 조회",
    "cypher": "MATCH (e:ETF)-[:TAGGED]->(t:Tag {name: '반도체'})\nWHERE e.return_1w > 0\nRETURN {etf_code: e.code, etf_name: e.name, return_1w: e.return_1w}\nORDER BY e.return_1w DESC",
    "description": "특정 태그 ETF 중 1주 수익률이 양수인 ETF 조회"
  },
  {
    "question": "특정 태그 ETF를 순자산순으로 정렬 조회",
    "cypher": "MATCH (e:ETF)-[:TAGGED]->(t:Tag {name: '금융'})\nRETURN {etf_code: e.code, etf_name: e.name, net_assets: e.net_assets}\nORDER BY e.net_assets DESC",
    "description": "특정 태그 ETF를 순자산 내림차순으로 조회"
  },
  {
    "question": "특정 운용사의 ETF 목록 조회",
    "cypher": "MATCH (e:ETF)-[:MANAGED_BY]->(c:Company {name: '삼성자산운용'})\nRETURN {etf_code: e.code, etf_name: e.name, net_assets: e.net_assets}\nORDER BY e.net_assets DESC",
    "description": "특정 운용사가 운용하는 ETF를 순자산순으로 조회"
  },
  {
    "question": "특정 운용사의 ETF 수 조회",
    "cypher": "MATCH (e:ETF)-[:MANAGED_BY]->(c:Company {name: '미래에셋자산운용'})\nWITH count(e) as etf_count\nRETURN {etf_count: etf_count}",
    "description": "특정 운용사가 운용하는 ETF 수 조회"
  },
  {
    "question": "운용사별 ETF 수 순위 조회",
    "cypher": "MATCH (e:ETF)-[:MANAGED_BY]->(c:Company)\nWITH c.name as company_name, count(e) as etf_count\nRETURN {company_name: company_name, etf_count: etf_count}\nORDER BY etf_count DESC",
    "description": "운용사별 ETF 수를 내림차순으로 조회"
  },
  {
    "question": "특정 운용사 ETF 중 보수율이 가장 낮은 ETF 조회",
    "cypher": "MATCH (e:ETF)-[:MANAGED_BY]->(c:Company {name: 'KB자산운용'})\nRETURN {etf_code: e.code, etf_name: e.name, expense_ratio: e.expense_ratio}\nORDER BY e.expense_ratio ASC\nLIMIT 1",
    "description": "특정 운용사 ETF 중 보수율 최저 ETF 조회"
  },
  {
    "question": "운용사별 평균 보수율 조회",
    "cypher": "MATCH (e:ETF)-[:MANAGED_BY]->(c:Company)\nWITH c.name as company_name, avg(e.expense_ratio) as avg_expense\nRETURN {company_name: company_name, avg_expense_ratio: avg_expense}\nORDER BY avg_expense ASC",
    "description": "운용사별 평균 보수율을 오름차순으로 조회"
  },
  {
    "question": "특정 운용사 ETF를 순자산 상위 N개 조회",
    "cypher": "MATCH (e:ETF)-[:MANAGED_BY]->(c:Company {name: '미래에셋자산운용'})\nRETURN {etf_code: e.code, etf_name: e.name, net_assets: e.net_assets}\nORDER BY e.net_assets DESC\nLIMIT 10",
    "description": "특정 운용사 ETF 중 순자산 상위 N개 조회"
  },
  {
    "question": "특정 운용사 ETF 중 수익률이 가장 높은 ETF 조회",
    "cypher": "MATCH (e:ETF)-[:MANAGED_BY]->(c:Company {name: '삼성자산운용'})\nRETURN {etf_code: e.code, etf_name: e.name, return_1m: e.return_1m}\nORDER BY e.return_1m DESC\nLIMIT 1",
    "description": "특정 운용사 ETF 중 1개월 수익률 최고 ETF 조회"
  },
  {
    "question": "특정 운용사의 ETF 목록과 보수율 조회",
    "cypher": "MATCH (e:ETF)-[:MANAGED_BY]->(c:Company {name: '한화자산운용'})\nRETURN {etf_code: e.code, etf_name: e.name, expense_ratio: e.expense_ratio}\nORDER BY e.expense_ratio ASC",
    "description": "특정 운용사 ETF의 보수율을 오름차순으로 조회"
  },
  {
    "question": "ETF의 최근 종가 추이 조회",
    "cypher": "MATCH (e:ETF {code: '069500'})-[:HAS_PRICE]->(p:Price)\nWHERE p.date >= '2026-01-18'\nRETURN {date: p.date, close: p.close, volume: p.volume}\nORDER BY p.date ASC",
    "description": "ETF의 특정 기간 종가와 거래량 추이 조회"
  },
  {
    "question": "종목의 최근 종가 조회",
    "cypher": "MATCH (s:Stock {code: '005930'})-[:HAS_PRICE]->(p:Price)\nRETURN {date: p.date, close: p.close, volume: p.volume}\nORDER BY p.date DESC\nLIMIT 1",
    "description": "특정 종목의 가장 최근 종가 조회"
  },
  {
    "question": "순자산이 일정 금액 이상인 ETF 조회",
    "cypher": "MATCH (e:ETF)\nWHERE e.net_assets >= 1000000000000\nRETURN {etf_code: e.code, etf_name: e.name, net_assets: e.net_assets}\nORDER BY e.net_assets DESC",
    "description": "순자산이 N원 이상인 ETF를 순자산순으로 조회"
  },
  {
    "question": "1주 수익률 상위 N개 ETF 조회",
    "cypher": "MATCH (e:ETF)\nRETURN {etf_code: e.code, etf_name: e.name, return_1w: e.return_1w}\nORDER BY e.return_1w DESC\nLIMIT 10",
    "description": "1주 수익률이 가장 높은 ETF 상위 N개 조회"
  },
  {
    "question": "시가총액 변화율 상위 ETF 조회",
    "cypher": "MATCH (e:ETF)\nRETURN {etf_code: e.code, etf_name: e.name, market_cap_change_1w: e.market_cap_change_1w}\nORDER BY e.market_cap_change_1w DESC\nLIMIT 10",
    "description": "주간 시가총액 변화율 상위 ETF 조회"
  },
  {
    "question": "일간 등락률 상위 ETF 조회",
    "cypher": "MATCH (e:ETF)\nRETURN {etf_code: e.code, etf_name: e.name, return_1d: e.return_1d}\nORDER BY e.return_1d DESC\nLIMIT 10",
    "description": "일간 수익률이 가장 높은 ETF 상위 N개 조회"
  },
  {
    "question": "종목의 최근 N일 OHLCV 주가 추이 조회",
    "cypher": "MATCH (s:Stock {code: '035420'})-[:HAS_PRICE]->(p:Price)\nRETURN {date: p.date, open: p.open, high: p.high, low: p.low, close: p.close, volume: p.volume}\nORDER BY p.date DESC\nLIMIT 10",
    "description": "종목의 최근 N거래일 OHLCV 가격 데이터 조회"
  },
  {
    "question": "1개월 수익률이 음수인 ETF 조회",
    "cypher": "MATCH (e:ETF)\nWHERE e.return_1m < 0\nRETURN {etf_code: e.code, etf_name: e.name, return_1m: e.return_1m}\nORDER BY e.return_1m ASC",
    "description": "1개월 수익률이 마이너스인 ETF를 수익률순으로 조회"
  },
  {
    "question": "보수율이 가장 낮은 ETF 상위 N개 조회",
    "cypher": "MATCH (e:ETF)\nRETURN {etf_code: e.code, etf_name: e.name, expense_ratio: e.expense_ratio}\nORDER BY e.expense_ratio ASC\nLIMIT 10",
    "description": "보수율이 가장 낮은 ETF 상위 N개 조회"
  },
  {
    "question": "순자산 범위 조건으로 ETF 필터 조회",
    "cypher": "MATCH (e:ETF)\nWHERE e.net_assets >= 50000000000 AND e.net_assets <= 100000000000\nRETURN {etf_code: e.code, etf_name: e.name, net_assets: e.net_assets}\nORDER BY e.net_assets DESC",
    "description": "순자산이 N억~M억 범위인 ETF 조회"
  },
  {
    "question": "ETF의 최근 종가와 거래량 조회",
    "cypher": "MATCH (e:ETF {code: '069500'})-[:HAS_PRICE]->(p:Price)\nRETURN {date: p.date, close: p.close, volume: p.volume}\nORDER BY p.date DESC\nLIMIT 1",
    "description": "ETF의 가장 최근 종가와 거래량 조회"
  },
  {
    "question": "전체 ETF의 평균 보수율 조회",
    "cypher": "MATCH (e:ETF)\nWITH avg(e.expense_ratio) as avg_expense\nRETURN {avg_expense_ratio: avg_expense}",
    "description": "전체 ETF의 평균 보수율 조회"
  },
  {
    "question": "일간 수익률 하위 ETF 조회",
    "cypher": "MATCH (e:ETF)\nRETURN {etf_code: e.code, etf_name: e.name, return_1d: e.return_1d}\nORDER BY e.return_1d ASC\nLIMIT 5",
    "description": "일간 수익률이 가장 낮은 ETF 하위 N개 조회"
  },
  {
    "question": "ETF의 최근 주가와 등락률 추이 조회",
    "cypher": "MATCH (e:ETF {code: '102110'})-[:HAS_PRICE]->(p:Price)\nRETURN {date: p.date, close: p.close, change_rate: p.change_rate}\nORDER BY p.date DESC\nLIMIT 5",
    "description": "ETF의 최근 N거래일 종가와 등락률 조회"
  },
  {
    "question": "종목의 최근 N일 주가 추이 조회",
    "cypher": "MATCH (s:Stock {code: '000660'})-[:HAS_PRICE]->(p:Price)\nRETURN {date: p.date, close: p.close, volume: p.volume}\nORDER BY p.date DESC\nLIMIT 5",
    "description": "종목의 최근 N일 종가와 거래량 조회"
  },
  {
    "question": "두 ETF의 보수율 비교 조회",
    "cypher": "MATCH (e:ETF)\nWHERE e.code IN ['069500', '102110']\nRETURN {etf_code: e.code, etf_name: e.name, expense_ratio: e.expense_ratio}\nORDER BY e.expense_ratio ASC",
    "description": "두 ETF의 보수율을 비교 조회"
  },
  {
    "question": "특정 태그 ETF들의 보수율 비교 조회",
    "cypher": "MATCH (e:ETF)-[:TAGGED]->(t:Tag {name: '반도체'})\nRETURN {etf_code: e.code, etf_name: e.name, expense_ratio: e.expense_ratio}\nORDER BY e.expense_ratio ASC",
    "description": "특정 태그 ETF들의 보수율을 오름차순으로 비교"
  },
  {
    "question": "두 ETF의 수익률 비교 조회",
    "cypher": "MATCH (e:ETF)\nWHERE e.code IN ['069500', '148020']\nRETURN {etf_code: e.code, etf_name: e.name, return_1m: e.return_1m}",
    "description": "두 ETF의 1개월 수익률 비교"
  },
  {
    "question": "특정 태그 ETF들의 수익률과 보수율 함께 비교 조회",
    "cypher": "MATCH (e:ETF)-[:TAGGED]->(t:Tag {name: '2차전지'})\nRETURN {etf_code: e.code, etf_name: e.name, return_1w: e.return_1w, return_1m: e.return_1m}\nORDER BY e.return_1m DESC",
    "description": "특정 태그 ETF들의 주간 및 월간 수익률 비교"
  },
  {
    "question": "두 ETF의 순자산 비교 조회",
    "cypher": "MATCH (e:ETF)\nWHERE e.code IN ['102110', '293180']\nRETURN {etf_code: e.code, etf_name: e.name, net_assets: e.net_assets}",
    "description": "두 ETF의 순자산 비교"
  },
  {
    "question": "특정 태그 ETF들의 순자산 비교 조회",
    "cypher": "MATCH (e:ETF)-[:TAGGED]->(t:Tag {name: 'AI'})\nRETURN {etf_code: e.code, etf_name: e.name, net_assets: e.net_assets}\nORDER BY e.net_assets DESC",
    "description": "특정 태그 ETF들의 순자산을 내림차순으로 비교"
  },
  {
    "question": "특정 태그 ETF의 보수율과 수익률 함께 비교 조회",
    "cypher": "MATCH (e:ETF)-[:TAGGED]->(t:Tag {name: '배당'})\nRETURN {etf_code: e.code, etf_name: e.name, expense_ratio: e.expense_ratio, return_1m: e.return_1m}\nORDER BY e.return_1m DESC",
    "description": "특정 태그 ETF의 보수율과 수익률을 함께 비교"
  },
  {
    "question": "특정 태그 ETF 중 보수율 최저와 최고 비교 조회",
    "cypher": "MATCH (e:ETF)-[:TAGGED]->(t:Tag {name: '바이오'})\nWITH e ORDER BY e.expense_ratio ASC\nWITH collect(e) as etfs\nWITH head(etfs) as cheapest, last(etfs) as most_expensive\nRETURN {cheapest_name: cheapest.name, cheapest_expense: cheapest.expense_ratio, expensive_name: most_expensive.name, expensive_expense: most_expensive.expense_ratio}",
    "description": "특정 태그 ETF 중 보수율 최저와 최고 ETF 비교"
  },
  {
    "question": "여러 ETF를 코드 목록으로 한번에 조회",
    "cypher": "MATCH (e:ETF)\nWHERE e.code IN ['069500', '102110', '148020']\nRETURN {etf_code: e.code, etf_name: e.name, expense_ratio: e.expense_ratio, net_assets: e.net_assets}\nORDER BY e.net_assets DESC",
    "description": "여러 ETF 코드를 IN 절로 한번에 조회"
  },
  {
    "question": "태그별 ETF를 순자산으로 그룹 정렬 조회",
    "cypher": "MATCH (e:ETF)-[:TAGGED]->(t:Tag)\nWITH t.name as tag_name, e\nORDER BY e.net_assets DESC\nRETURN {tag_name: tag_name, etf_code: e.code, etf_name: e.name, net_assets: e.net_assets}",
    "description": "태그별 ETF의 순자산을 내림차순으로 그룹 정렬"
  },
  {
    "question": "특정 태그 ETF 중 보수율과 순자산 복합 조건 필터 조회",
    "cypher": "MATCH (e:ETF)-[:TAGGED]->(t:Tag {name: '반도체'})\nWHERE e.expense_ratio <= 0.3 AND e.net_assets >= 100000000000\nRETURN {etf_code: e.code, etf_name: e.name, expense_ratio: e.expense_ratio, net_assets: e.net_assets}\nORDER BY e.net_assets DESC",
    "description": "특정 태그 ETF 중 보수율 N% 이하이고 순자산 N억 이상인 ETF 조회"
  },
  {
    "question": "특정 운용사의 특정 태그 ETF 조회",
    "cypher": "MATCH (e:ETF)-[:MANAGED_BY]->(c:Company {name: '삼성자산운용'})\nMATCH (e)-[:TAGGED]->(t:Tag {name: 'AI'})\nRETURN {etf_code: e.code, etf_name: e.name, expense_ratio: e.expense_ratio}",
    "description": "특정 운용사가 운용하는 특정 태그 ETF 조회"
  },
  {
    "question": "특정 태그 ETF를 보수율 조건으로 정렬 조회",
    "cypher": "MATCH (e:ETF)-[:TAGGED]->(t:Tag {name: '코스피200'})\nRETURN {etf_code: e.code, etf_name: e.name, expense_ratio: e.expense_ratio}\nORDER BY e.expense_ratio ASC",
    "description": "특정 태그 ETF를 보수율 오름차순으로 조회"
  },
  {
    "question": "특정 운용사의 특정 태그 ETF를 순자산순으로 조회",
    "cypher": "MATCH (e:ETF)-[:MANAGED_BY]->(c:Company {name: '미래에셋자산운용'})\nMATCH (e)-[:TAGGED]->(t:Tag {name: '2차전지'})\nRETURN {etf_code: e.code, etf_name: e.name, net_assets: e.net_assets}\nORDER BY e.net_assets DESC",
    "description": "특정 운용사의 특정 태그 ETF를 순자산순으로 조회"
  },
  {
    "question": "특정 종목을 보유한 특정 태그 ETF 조회",
    "cypher": "MATCH (e:ETF)-[:TAGGED]->(t:Tag {name: '반도체'})\nMATCH (e)-[h:HOLDS]->(s:Stock {code: '005930'})\nWITH e, s, h ORDER BY h.date DESC\nWITH e, s, head(collect(h)) as latest\nRETURN {etf_code: e.code, etf_name: e.name, weight: latest.weight}\nORDER BY latest.weight DESC",
    "description": "특정 태그이면서 특정 종목을 보유한 ETF와 비중 조회"
  },
  {
    "question": "특정 운용사의 특정 태그 ETF 목록과 보수율 조회",
    "cypher": "MATCH (e:ETF)-[:MANAGED_BY]->(c:Company {name: 'KB자산운용'})\nMATCH (e)-[:TAGGED]->(t:Tag {name: '배당'})\nRETURN {etf_code: e.code, etf_name: e.name, expense_ratio: e.expense_ratio, net_assets: e.net_assets}",
    "description": "특정 운용사의 특정 태그 ETF 보수율과 순자산 조회"
  },
  {
    "question": "순자산과 보수율 복합 조건으로 ETF 필터 조회",
    "cypher": "MATCH (e:ETF)\nWHERE e.net_assets >= 500000000000 AND e.expense_ratio <= 0.2\nRETURN {etf_code: e.code, etf_name: e.name, net_assets: e.net_assets, expense_ratio: e.expense_ratio}\nORDER BY e.net_assets DESC",
    "description": "순자산 N억 이상이고 보수율 N% 이하인 ETF 조회"
  },
  {
    "question": "특정 운용사 ETF 중 순자산 조건과 보수율 최저 조회",
    "cypher": "MATCH (e:ETF)-[:MANAGED_BY]->(c:Company {name: '한화자산운용'})\nWHERE e.net_assets >= 10000000000\nRETURN {etf_code: e.code, etf_name: e.name, expense_ratio: e.expense_ratio, net_assets: e.net_assets}\nORDER BY e.expense_ratio ASC\nLIMIT 1",
    "description": "특정 운용사 ETF 중 순자산 N억 이상이면서 보수율 최저 조회"
  },
  {
    "question": "특정 운용사의 특정 태그 ETF 중 수익률 최고 조회",
    "cypher": "MATCH (e:ETF)-[:MANAGED_BY]->(c:Company {name: '미래에셋자산운용'})\nMATCH (e)-[:TAGGED]->(t:Tag {name: '반도체'})\nRETURN {etf_code: e.code, etf_name: e.name, return_1w: e.return_1w}\nORDER BY e.return_1w DESC\nLIMIT 1",
    "description": "특정 운용사의 특정 태그 ETF 중 1주 수익률 최고 조회"
  },
  {
    "question": "특정 종목 보유 ETF의 수익률 순위 조회",
    "cypher": "MATCH (e:ETF)-[h:HOLDS]->(s:Stock {code: '005930'})\nWITH e, h ORDER BY h.date DESC\nWITH e, head(collect(h)) as latest\nRETURN {etf_code: e.code, etf_name: e.name, weight: latest.weight, return_1m: e.return_1m}\nORDER BY e.return_1m DESC",
    "description": "특정 종목을 보유한 ETF를 수익률순으로 조회"
  },
  {
    "question": "보수율 조건과 수익률 양수 복합 필터 ETF 조회",
    "cypher": "MATCH (e:ETF)\nWHERE e.expense_ratio <= 0.3 AND e.return_1m > 0\nRETURN {etf_code: e.code, etf_name: e.name, expense_ratio: e.expense_ratio, return_1m: e.return_1m}\nORDER BY e.return_1m DESC",
    "description": "보수율 N% 이하이면서 수익률 양수인 ETF 조회"
  },
  {
    "question": "특정 종목 보유 ETF 중 특정 태그이면서 보수율 낮은 순 조회",
    "cypher": "MATCH (e:ETF)-[:TAGGED]->(t:Tag {name: '반도체'})\nMATCH (e)-[h:HOLDS]->(s:Stock {code: '005930'})\nWITH e, h ORDER BY h.date DESC\nWITH e, head(collect(h)) as latest\nRETURN {etf_code: e.code, etf_name: e.name, weight: latest.weight, expense_ratio: e.expense_ratio}\nORDER BY e.expense_ratio ASC",
    "description": "특정 종목 보유 + 특정 태그 ETF를 보수율 순으로 조회"
  },
  {
    "question": "복수 종목 보유 ETF 중 특정 태그 필터 조회",
    "cypher": "MATCH (e:ETF)-[:TAGGED]->(t:Tag {name: '반도체'})\nMATCH (e)-[h1:HOLDS]->(s1:Stock {code: '005930'}), (e)-[h2:HOLDS]->(s2:Stock {code: '000660'})\nWITH e, h1, h2 ORDER BY h1.date DESC, h2.date DESC\nWITH e, head(collect(DISTINCT h1)) as lh1, head(collect(DISTINCT h2)) as lh2\nRETURN {etf_code: e.code, etf_name: e.name, weight1: lh1.weight, weight2: lh2.weight, expense_ratio: e.expense_ratio}\nORDER BY lh1.weight + lh2.weight DESC",
    "description": "복수 종목을 동시에 보유한 특정 태그 ETF 조회"
  },
  {
    "question": "특정 종목 보유 ETF와 운용사 함께 조회",
    "cypher": "MATCH (e:ETF)-[h:HOLDS]->(s:Stock {code: '005930'})\nMATCH (e)-[:MANAGED_BY]->(c:Company)\nWITH e, c, h ORDER BY h.date DESC\nWITH e, c, head(collect(h)) as latest\nRETURN {etf_code: e.code, etf_name: e.name, weight: latest.weight, company: c.name}\nORDER BY latest.weight DESC",
    "description": "특정 종목 보유 ETF의 비중과 운용사 함께 조회"
  },
  {
    "question": "특정 태그 ETF들의 보유종목 상위 N개씩 조회",
    "cypher": "MATCH (e:ETF)-[:TAGGED]->(t:Tag {name: '반도체'})\nMATCH (e)-[h:HOLDS]->(s:Stock)\nWITH e, s, h ORDER BY h.date DESC\nWITH e, s, head(collect(h)) as latest\nWITH e, s, latest ORDER BY latest.weight DESC\nWITH e, collect({stock: s.name, weight: latest.weight})[..5] as top_holdings\nRETURN {etf_code: e.code, etf_name: e.name, top_holdings: top_holdings}",
    "description": "특정 태그 ETF들의 보유종목 상위 N개씩 조회"
  },
  {
    "question": "특정 운용사의 ETF 중 특정 종목을 보유한 ETF 조회",
    "cypher": "MATCH (e:ETF)-[:MANAGED_BY]->(c:Company {name: '삼성자산운용'})\nMATCH (e)-[h:HOLDS]->(s:Stock {code: '005930'})\nWITH e, h ORDER BY h.date DESC\nWITH e, head(collect(h)) as latest\nRETURN {etf_code: e.code, etf_name: e.name, weight: latest.weight, expense_ratio: e.expense_ratio}\nORDER BY latest.weight DESC",
    "description": "특정 운용사 ETF 중 특정 종목을 보유한 ETF 조회"
  },
  {
    "question": "ETF의 보수율과 순자산, 수익률을 종합 조회",
    "cypher": "MATCH (e:ETF {code: '069500'})\nOPTIONAL MATCH (e)-[:MANAGED_BY]->(c:Company)\nRETURN {etf_code: e.code, etf_name: e.name, expense_ratio: e.expense_ratio, net_assets: e.net_assets, return_1w: e.return_1w, return_1m: e.return_1m, company: c.name}",
    "description": "ETF의 보수율, 순자산, 수익률, 운용사를 종합 조회"
  },
  {
    "question": "즐겨찾기한 ETF 목록 조회",
    "cypher": "MATCH (u:User {user_id: $user_id})-[w:WATCHES]->(e:ETF)\nRETURN {etf_code: e.code, etf_name: e.name, added_at: w.added_at}\nORDER BY w.added_at DESC",
    "description": "현재 사용자가 즐겨찾기한 ETF 목록을 추가 시간순으로 조회"
  },
  {
    "question": "즐겨찾기한 ETF의 수익률 조회",
    "cypher": "MATCH (u:User {user_id: $user_id})-[:WATCHES]->(e:ETF)\nRETURN {etf_code: e.code, etf_name: e.name, return_1d: e.return_1d, return_1w: e.return_1w, return_1m: e.return_1m}\nORDER BY e.return_1m DESC",
    "description": "즐겨찾기 ETF의 일간/주간/월간 수익률 조회"
  },
  {
    "question": "즐겨찾기한 ETF 수 조회",
    "cypher": "MATCH (u:User {user_id: $user_id})-[:WATCHES]->(e:ETF)\nWITH count(e) as watch_count\nRETURN {watch_count: watch_count}",
    "description": "즐겨찾기한 ETF 총 수 조회"
  },
  {
    "question": "즐겨찾기 ETF 중 보수율이 가장 낮은 ETF 조회",
    "cypher": "MATCH (u:User {user_id: $user_id})-[:WATCHES]->(e:ETF)\nRETURN {etf_code: e.code, etf_name: e.name, expense_ratio: e.expense_ratio}\nORDER BY e.expense_ratio ASC\nLIMIT 1",
    "description": "즐겨찾기 ETF 중 보수율 최저 ETF 조회"
  },
  {
    "question": "즐겨찾기한 ETF의 순자산 합계 조회",
    "cypher": "MATCH (u:User {user_id: $user_id})-[:WATCHES]->(e:ETF)\nWITH sum(e.net_assets) as total_assets\nRETURN {total_net_assets: total_assets}",
    "description": "즐겨찾기 ETF의 순자산 합계 조회"
  },
  {
    "question": "최근 보유종목 변동이 있는 ETF 조회",
    "cypher": "MATCH (e:ETF)-[:HAS_CHANGE]->(c:Change)\nWITH e, c ORDER BY c.detected_at DESC\nWITH e, head(collect(c)) as latest_change\nRETURN {etf_code: e.code, etf_name: e.name, change_type: latest_change.change_type, stock_name: latest_change.stock_name, detected_at: latest_change.detected_at}\nORDER BY latest_change.detected_at DESC\nLIMIT 10",
    "description": "최근 보유종목 변동이 감지된 ETF 상위 N개 조회"
  },
  {
    "question": "신규 편입된 종목이 있는 ETF 조회",
    "cypher": "MATCH (e:ETF)-[:HAS_CHANGE]->(c:Change {change_type: 'new'})\nRETURN {etf_code: e.code, etf_name: e.name, stock_name: c.stock_name, weight: c.after_weight, detected_at: c.detected_at}\nORDER BY c.detected_at DESC",
    "description": "신규 편입 종목이 있는 ETF와 해당 종목 조회"
  },
  {
    "question": "제외된 종목이 있는 ETF 조회",
    "cypher": "MATCH (e:ETF)-[:HAS_CHANGE]->(c:Change {change_type: 'removed'})\nRETURN {etf_code: e.code, etf_name: e.name, stock_name: c.stock_name, before_weight: c.before_weight, detected_at: c.detected_at}\nORDER BY c.detected_at DESC",
    "description": "보유종목이 제외된 ETF와 해당 종목 조회"
  },
  {
    "question": "비중 변화가 가장 큰 변동 내역 조회",
    "cypher": "MATCH (e:ETF)-[:HAS_CHANGE]->(c:Change)\nWHERE c.weight_change IS NOT NULL\nRETURN {etf_code: e.code, etf_name: e.name, stock_name: c.stock_name, weight_change: c.weight_change, detected_at: c.detected_at}\nORDER BY abs(c.weight_change) DESC\nLIMIT 10",
    "description": "비중 변화 절대값이 가장 큰 변동 상위 N개 조회"
  },
  {
    "question": "특정 ETF의 최근 변동 내역 조회",
    "cypher": "MATCH (e:ETF {code: '069500'})-[:HAS_CHANGE]->(c:Change)\nRETURN {stock_name: c.stock_name, change_type: c.change_type, before_weight: c.before_weight, after_weight: c.after_weight, weight_change: c.weight_change, detected_at: c.detected_at}\nORDER BY c.detected_at DESC\nLIMIT 10",
    "description": "특정 ETF의 최근 보유종목 변동 내역 조회"
  },
  {
    "question": "특정 종목이 편입된 ETF 목록 조회",
    "cypher": "MATCH (e:ETF)-[:HAS_CHANGE]->(c:Change {change_type: 'new'})\nWHERE c.stock_code = '005930'\nRETURN {etf_code: e.code, etf_name: e.name, after_weight: c.after_weight, detected_at: c.detected_at}\nORDER BY c.detected_at DESC",
    "description": "특정 종목이 신규 편입된 ETF 목록 조회"
  },
  {
    "question": "ETF 전체 수 조회",
    "cypher": "MATCH (e:ETF)\nWITH count(e) as total\nRETURN {total_etf_count: total}",
    "description": "전체 ETF 수 조회"
  },
  {
    "question": "종목 전체 수 조회",
    "cypher": "MATCH (s:Stock)\nWITH count(s) as total\nRETURN {total_stock_count: total}",
    "description": "전체 종목 수 조회"
  },
  {
    "question": "특정 종목이 포함된 태그 목록 조회",
    "cypher": "MATCH (e:ETF)-[h:HOLDS]->(s:Stock {code: '005930'})\nMATCH (e)-[:TAGGED]->(t:Tag)\nWITH t.name as tag_name, count(DISTINCT e) as etf_count\nRETURN {tag_name: tag_name, etf_count: etf_count}\nORDER BY etf_count DESC",
    "description": "특정 종목을 보유한 ETF들의 태그 분포 조회"
  },
  {
    "question": "운용사별 평균 순자산 조회",
    "cypher": "MATCH (e:ETF)-[:MANAGED_BY]->(c:Company)\nWITH c.name as company_name, avg(e.net_assets) as avg_assets, count(e) as etf_count\nRETURN {company_name: company_name, avg_net_assets: avg_assets, etf_count: etf_count}\nORDER BY avg_assets DESC",
    "description": "운용사별 평균 순자산과 ETF 수 조회"
  },
  {
    "question": "운용사별 총 순자산 합계 조회",
    "cypher": "MATCH (e:ETF)-[:MANAGED_BY]->(c:Company)\nWITH c.name as company_name, sum(e.net_assets) as total_assets\nRETURN {company_name: company_name, total_net_assets: total_assets}\nORDER BY total_assets DESC",
    "description": "운용사별 운용 ETF 총 순자산 합계 조회"
  },
  {
    "question": "특정 태그 ETF의 평균 수익률 조회",
    "cypher": "MATCH (e:ETF)-[:TAGGED]->(t:Tag {name: '반도체'})\nWITH avg(e.return_1m) as avg_return, count(e) as etf_count\nRETURN {avg_return_1m: avg_return, etf_count: etf_count}",
    "description": "특정 태그 ETF들의 평균 1개월 수익률 조회"
  },
  {
    "question": "특정 종목을 보유한 ETF의 태그와 운용사 함께 조회",
    "cypher": "MATCH (e:ETF)-[h:HOLDS]->(s:Stock {code: '000660'})\nMATCH (e)-[:MANAGED_BY]->(c:Company)\nOPTIONAL MATCH (e)-[:TAGGED]->(t:Tag)\nWITH e, c, h, collect(t.name) as tags ORDER BY h.date DESC\nWITH e, c, tags, head(collect(h)) as latest\nRETURN {etf_code: e.code, etf_name: e.name, weight: latest.weight, company: c.name, tags: tags}\nORDER BY latest.weight DESC",
    "description": "특정 종목 보유 ETF의 비중, 운용사, 태그를 종합 조회"
  },
  {
    "question": "특정 태그 ETF 중 보유종목 수가 가장 많은 ETF 조회",
    "cypher": "MATCH (e:ETF)-[:TAGGED]->(t:Tag {name: 'AI'})\nMATCH (e)-[h:HOLDS]->(s:Stock)\nWITH e, h, s ORDER BY h.date DESC\nWITH e, s, head(collect(h)) as latest\nWITH e, count(s) as holding_count\nRETURN {etf_code: e.code, etf_name: e.name, holding_count: holding_count}\nORDER BY holding_count DESC\nLIMIT 5",
    "description": "특정 태그 ETF 중 보유종목 수 상위 N개 조회"
  },
  {
    "question": "복수 종목 보유 ETF 중 보수율 낮은 순 조회",
    "cypher": "MATCH (e:ETF)-[h1:HOLDS]->(s1:Stock {code: '005930'}), (e)-[h2:HOLDS]->(s2:Stock {code: '000660'})\nWITH e, h1, h2 ORDER BY h1.date DESC, h2.date DESC\nWITH e, head(collect(DISTINCT h1)) as lh1, head(collect(DISTINCT h2)) as lh2\nRETURN {etf_code: e.code, etf_name: e.name, weight1: lh1.weight, weight2: lh2.weight, expense_ratio: e.expense_ratio}\nORDER BY e.expense_ratio ASC",
    "description": "복수 종목 동시 보유 ETF를 보수율 오름차순으로 조회"
  },
  {
    "question": "보수율 상위 N개 ETF 조회",
    "cypher": "MATCH (e:ETF)\nRETURN {etf_code: e.code, etf_name: e.name, expense_ratio: e.expense_ratio}\nORDER BY e.expense_ratio DESC\nLIMIT 10",
    "description": "보수율이 가장 높은 ETF 상위 N개 조회"
  },
  {
    "question": "3개월 수익률 상위 ETF 조회",
    "cypher": "MATCH (e:ETF)\nWHERE e.return_3m IS NOT NULL\nRETURN {etf_code: e.code, etf_name: e.name, return_3m: e.return_3m}\nORDER BY e.return_3m DESC\nLIMIT 10",
    "description": "3개월 수익률이 가장 높은 ETF 상위 N개 조회"
  },
  {
    "question": "종목 이름에 특정 키워드가 포함된 종목 검색",
    "cypher": "MATCH (s:Stock)\nWHERE toLower(s.name) CONTAINS toLower('삼성')\nRETURN {stock_code: s.code, stock_name: s.name}\nORDER BY s.name",
    "description": "이름에 특정 키워드가 포함된 종목 검색"
  },
  {
    "question": "ETF 이름에 특정 키워드가 포함된 ETF 검색",
    "cypher": "MATCH (e:ETF)\nWHERE toLower(e.name) CONTAINS toLower('KODEX')\nRETURN {etf_code: e.code, etf_name: e.name, expense_ratio: e.expense_ratio}\nORDER BY e.name",
    "description": "이름에 특정 키워드가 포함된 ETF 검색"
  },
  {
    "question": "특정 종목의 보유 비중이 높은 ETF와 해당 ETF의 태그 조회",
    "cypher": "MATCH (e:ETF)-[h:HOLDS]->(s:Stock {code: '005930'})\nWITH e, h ORDER BY h.date DESC\nWITH e, head(collect(h)) as latest\nOPTIONAL MATCH (e)-[:TAGGED]->(t:Tag)\nWITH e, latest, collect(t.name) as tags\nRETURN {etf_code: e.code, etf_name: e.name, weight: latest.weight, tags: tags}\nORDER BY latest.weight DESC\nLIMIT 10",
    "description": "특정 종목 보유 상위 ETF와 각 ETF의 태그 함께 조회"
  },
  {
    "question": "ETF의 보유종목과 비중, 종목의 ETF 여부 함께 조회",
    "cypher": "MATCH (e:ETF {code: '069500'})-[h:HOLDS]->(s:Stock)\nWITH s, h ORDER BY h.date DESC\nWITH s, head(collect(h)) as latest\nRETURN {stock_code: s.code, stock_name: s.name, weight: latest.weight, is_etf: s.is_etf}\nORDER BY latest.weight DESC\nLIMIT 10",
    "description": "ETF 보유종목의 비중과 ETF 여부(is_etf) 함께 조회"
  },
  {
    "question": "ETF의 가격 데이터에서 시가총액과 순자산 추이 조회",
    "cypher": "MATCH (e:ETF {code: '069500'})-[:HAS_PRICE]->(p:Price)\nWHERE p.date >= '2026-01-01'\nRETURN {date: p.date, close: p.close, market_cap: p.market_cap, net_assets: p.net_assets}\nORDER BY p.date ASC",
    "description": "ETF의 기간별 시가총액과 순자산 추이 조회"
  },
  {
    "question": "ETF의 가격 데이터에서 거래대금 추이 조회",
    "cypher": "MATCH (e:ETF {code: '069500'})-[:HAS_PRICE]->(p:Price)\nWHERE p.date >= '2026-02-01'\nRETURN {date: p.date, close: p.close, volume: p.volume, trade_value: p.trade_value}\nORDER BY p.date ASC",
    "description": "ETF의 기간별 종가, 거래량, 거래대금 추이 조회"
  },
  {
    "question": "ETF의 NAV(순자산가치) 추이 조회",
    "cypher": "MATCH (e:ETF {code: '069500'})-[:HAS_PRICE]->(p:Price)\nWHERE p.nav IS NOT NULL\nRETURN {date: p.date, close: p.close, nav: p.nav}\nORDER BY p.date DESC\nLIMIT 20",
    "description": "ETF의 최근 NAV와 종가 추이 비교 조회"
  },
  {
    "question": "복수 종목을 보유하면서 특정 운용사인 ETF 조회",
    "cypher": "MATCH (e:ETF)-[:MANAGED_BY]->(c:Company {name: '미래에셋자산운용'})\nMATCH (e)-[h1:HOLDS]->(s1:Stock {code: '005930'}), (e)-[h2:HOLDS]->(s2:Stock {code: '000660'})\nWITH e, h1, h2 ORDER BY h1.date DESC, h2.date DESC\nWITH e, head(collect(DISTINCT h1)) as lh1, head(collect(DISTINCT h2)) as lh2\nRETURN {etf_code: e.code, etf_name: e.name, weight1: lh1.weight, weight2: lh2.weight, expense_ratio: e.expense_ratio}",
    "description": "특정 운용사의 ETF 중 복수 종목을 동시에 보유한 ETF 조회"
  },
  {
    "question": "특정 태그 ETF의 보수율 분포 통계 조회",
    "cypher": "MATCH (e:ETF)-[:TAGGED]->(t:Tag {name: '반도체'})\nWITH min(e.expense_ratio) as min_expense, max(e.expense_ratio) as max_expense, avg(e.expense_ratio) as avg_expense, count(e) as etf_count\nRETURN {min_expense_ratio: min_expense, max_expense_ratio: max_expense, avg_expense_ratio: avg_expense, etf_count: etf_count}",
    "description": "특정 태그 ETF의 보수율 최소/최대/평균 통계 조회"
  },
  {
    "question": "ETF의 운용사와 태그 목록을 한번에 조회",
    "cypher": "MATCH (e:ETF {code: '069500'})\nOPTIONAL MATCH (e)-[:MANAGED_BY]->(c:Company)\nOPTIONAL MATCH (e)-[:TAGGED]->(t:Tag)\nWITH e, c, collect(t.name) as tags\nRETURN {etf_code: e.code, etf_name: e.name, company: c.name, tags: tags}",
    "description": "ETF의 운용사와 모든 태그를 한번에 조회"
  }
]
